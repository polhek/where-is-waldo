[{"/Users/zigagroselj/Desktop/The Odin Project/where-is-waldo/src/index.js":"1","/Users/zigagroselj/Desktop/The Odin Project/where-is-waldo/src/App.js":"2","/Users/zigagroselj/Desktop/The Odin Project/where-is-waldo/src/components/Waldo.js":"3","/Users/zigagroselj/Desktop/The Odin Project/where-is-waldo/src/components/Leaderboard.js":"4","/Users/zigagroselj/Desktop/The Odin Project/where-is-waldo/src/components/Timer.js":"5","/Users/zigagroselj/Desktop/The Odin Project/where-is-waldo/src/components/User.js":"6","/Users/zigagroselj/Desktop/The Odin Project/where-is-waldo/src/components/UsersLeaderboard.js":"7","/Users/zigagroselj/Desktop/The Odin Project/where-is-waldo/src/components/UserLeader.js":"8"},{"size":219,"mtime":1606229776495,"results":"9","hashOfConfig":"10"},{"size":4672,"mtime":1606839232137,"results":"11","hashOfConfig":"10"},{"size":1719,"mtime":1606579649458,"results":"12","hashOfConfig":"10"},{"size":1070,"mtime":1606837914291,"results":"13","hashOfConfig":"10"},{"size":1354,"mtime":1606836012222,"results":"14","hashOfConfig":"10"},{"size":878,"mtime":1606580671290,"results":"15","hashOfConfig":"10"},{"size":574,"mtime":1606839410433,"results":"16","hashOfConfig":"10"},{"size":559,"mtime":1606839506817,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"1wprw1y",{"filePath":"21","messages":"22","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"23","usedDeprecatedRules":"24"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32","usedDeprecatedRules":"24"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/zigagroselj/Desktop/The Odin Project/where-is-waldo/src/index.js",[],["39","40"],"/Users/zigagroselj/Desktop/The Odin Project/where-is-waldo/src/App.js",["41"],"import './App.css';\nimport React, { useEffect, useState } from 'react';\nimport Leaderboard from './components/Leaderboard';\nimport Waldo from './components/Waldo';\nimport Timer from './components/Timer';\nimport User from './components/User';\n\n//firebase...\nimport firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\nimport 'firebase/storage';\n\nif (!firebase.apps.length) {\n  firebase.initializeApp({\n    apiKey: 'AIzaSyDI7clzPOlS0Tuf4FuT1GVNwoerT5SC0-I',\n    authDomain: 'where-is-waldo-99e1e.firebaseapp.com',\n    databaseURL: 'https://where-is-waldo-99e1e.firebaseio.com',\n    projectId: 'where-is-waldo-99e1e',\n    storageBucket: 'where-is-waldo-99e1e.appspot.com',\n    messagingSenderId: '909475830981',\n    appId: '1:909475830981:web:75eda288d5711c0f8424ac',\n  });\n}\n\nconst firestore = firebase.firestore();\n\nfunction App() {\n  const [x, setX] = useState();\n  const [y, setY] = useState();\n  const [markerPlaced, setMarkerPlaced] = useState(false);\n  const [character, setCharacter] = useState();\n  const [waldoFound, setWaldoFound] = useState(false);\n  const [wilmaFound, setWilmaFound] = useState(false);\n  const [wizardFound, setWizardFound] = useState(false);\n  const [characterInfo, setcharacterInfo] = useState({});\n  const [user, setUser] = useState('');\n  const [userDB, setUserDB] = useState([]);\n\n  const getCharacterCoordinates = async () => {\n    try {\n      let characterRef = firestore.collection('characterCoordinates');\n      let allCharactersCords = await characterRef.get();\n      let characterInfoCoordinates = {};\n      for (const doc of allCharactersCords.docs) {\n        characterInfoCoordinates[doc.id] = doc.data();\n      }\n      setcharacterInfo(characterInfoCoordinates);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const getUsersLeaderboard = async () => {\n    try {\n      let usersRef = firestore\n        .collection('users')\n        .orderBy('timer', 'asc')\n        .limit(10);\n      let users = await usersRef.get();\n      let db = [];\n      users.docs.forEach((doc) => {\n        db.push(doc.data());\n      });\n      setUserDB(db);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  useEffect(() => {\n    getCharacterCoordinates();\n    getUsersLeaderboard();\n  }, []);\n\n  useEffect(() => {\n    if (markerPlaced === true) {\n      checkClick(x, y);\n    }\n  }, [character]);\n\n  const clickedCharacter = (e) => {\n    setCharacter(e.target.value);\n  };\n\n  const clickedCharacterCoordinates = () => {\n    const clickedCharacterInfo = characterInfo[character];\n    if (\n      x - 20 < clickedCharacterInfo.cordX &&\n      x + 20 > clickedCharacterInfo.cordX\n    ) {\n      if (\n        y + 20 > clickedCharacterInfo.cordY &&\n        y - 20 < clickedCharacterInfo.cordY\n      ) {\n        return true;\n      }\n    }\n    return false;\n  };\n\n  const placeFound = () => {\n    const findMarker = document.createElement('div');\n    findMarker.classList.add('find-marker');\n    findMarker.style.top = `${y - 20}px`;\n    findMarker.style.left = `${x - 20}px`;\n    document.querySelector('.image-container').appendChild(findMarker);\n  };\n\n  const checkClick = (x, y) => {\n    if (clickedCharacterCoordinates()) {\n      if (character === 'waldo') {\n        setWaldoFound(true);\n        placeFound();\n      } else if (character === 'wizard') {\n        setWizardFound(true);\n        placeFound();\n      } else if (character === 'wilma') {\n        setWilmaFound(true);\n        placeFound();\n      }\n    }\n  };\n\n  const saveUser = (user, timer) => {\n    firestore\n      .collection('users')\n      .doc(user)\n      .set({\n        name: user,\n        timer: timer,\n      })\n      .then(() => {\n        console.log('Successfully saved user');\n      })\n      .catch((error) => {\n        console.log('Error saving user', error);\n      });\n  };\n\n  return (\n    <div className=\"App\">\n      <div className=\"container\">\n        <User setUser={setUser} />\n        <div className=\"app-header\">\n          <h1>Where's Waldo?</h1>\n          <Timer\n            user={user}\n            waldoFound={waldoFound}\n            wizardFound={wizardFound}\n            wilmaFound={wilmaFound}\n            saveUser={saveUser}\n          />\n        </div>\n        <div className=\"main\">\n          <Leaderboard\n            waldoFound={waldoFound}\n            wizardFound={wizardFound}\n            wilmaFound={wilmaFound}\n            usersDB={userDB}\n          />\n          <Waldo\n            setX={setX}\n            setY={setY}\n            clickedCharacter={clickedCharacter}\n            checkClick={checkClick}\n            setMarkerPlaced={setMarkerPlaced}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n",["42","43"],"/Users/zigagroselj/Desktop/The Odin Project/where-is-waldo/src/components/Waldo.js",[],"/Users/zigagroselj/Desktop/The Odin Project/where-is-waldo/src/components/Leaderboard.js",[],["44","45"],"/Users/zigagroselj/Desktop/The Odin Project/where-is-waldo/src/components/Timer.js",["46","47","48"],"import React, { useState, useEffect, useRef } from 'react';\n\nconst Timer = ({ user, waldoFound, wizardFound, wilmaFound, saveUser }) => {\n  const [timer, setTimer] = useState(0);\n  const [isActive, setIsActive] = useState(false);\n  const [isPaused, setIsPaused] = useState(false);\n  const countRef = useRef(null);\n\n  useEffect(() => {\n    if (user.length > 0 && isActive === false) {\n      handleStart();\n    }\n  }, [user]);\n\n  useEffect(() => {\n    if (waldoFound && wizardFound && wilmaFound) {\n      handlePause();\n      saveUser(user, timer);\n    }\n  }, [waldoFound, wizardFound, wilmaFound]);\n\n  const handleStart = () => {\n    setIsActive(true);\n    setIsPaused(true);\n    countRef.current = setInterval(() => {\n      setTimer((timer) => timer + 1);\n    }, 1000);\n  };\n\n  const handlePause = () => {\n    clearInterval(countRef.current);\n    setIsPaused(false);\n  };\n\n  const formatTime = (timer) => {\n    const getSeconds = `0${timer % 60}`.slice(-2);\n    const minutes = `${Math.floor(timer / 60)}`;\n    const getMinutes = `0${minutes % 60}`.slice(-2);\n    const getHours = `0${Math.floor(timer / 3600)}`.slice(-2);\n\n    return `${getHours} : ${getMinutes} : ${getSeconds}`;\n  };\n  return (\n    <div className=\"timer\">\n      <div className=\"timer-timer\">\n        <h2>{formatTime(timer)}</h2>\n      </div>\n    </div>\n  );\n};\n\nexport default Timer;\n","/Users/zigagroselj/Desktop/The Odin Project/where-is-waldo/src/components/User.js",[],"/Users/zigagroselj/Desktop/The Odin Project/where-is-waldo/src/components/UsersLeaderboard.js",[],"/Users/zigagroselj/Desktop/The Odin Project/where-is-waldo/src/components/UserLeader.js",[],{"ruleId":"49","replacedBy":"50"},{"ruleId":"51","replacedBy":"52"},{"ruleId":"53","severity":1,"message":"54","line":80,"column":6,"nodeType":"55","endLine":80,"endColumn":17,"suggestions":"56"},{"ruleId":"49","replacedBy":"57"},{"ruleId":"51","replacedBy":"58"},{"ruleId":"49","replacedBy":"59"},{"ruleId":"51","replacedBy":"60"},{"ruleId":"61","severity":1,"message":"62","line":6,"column":10,"nodeType":"63","messageId":"64","endLine":6,"endColumn":18},{"ruleId":"53","severity":1,"message":"65","line":13,"column":6,"nodeType":"55","endLine":13,"endColumn":12,"suggestions":"66"},{"ruleId":"53","severity":1,"message":"67","line":20,"column":6,"nodeType":"55","endLine":20,"endColumn":43,"suggestions":"68"},"no-native-reassign",["69"],"no-negated-in-lhs",["70"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'checkClick', 'markerPlaced', 'x', and 'y'. Either include them or remove the dependency array.","ArrayExpression",["71"],["69"],["70"],["69"],["70"],"no-unused-vars","'isPaused' is assigned a value but never used.","Identifier","unusedVar","React Hook useEffect has a missing dependency: 'isActive'. Either include it or remove the dependency array.",["72"],"React Hook useEffect has missing dependencies: 'saveUser', 'timer', and 'user'. Either include them or remove the dependency array. If 'saveUser' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["73"],"no-global-assign","no-unsafe-negation",{"desc":"74","fix":"75"},{"desc":"76","fix":"77"},{"desc":"78","fix":"79"},"Update the dependencies array to be: [character, checkClick, markerPlaced, x, y]",{"range":"80","text":"81"},"Update the dependencies array to be: [isActive, user]",{"range":"82","text":"83"},"Update the dependencies array to be: [waldoFound, wizardFound, wilmaFound, saveUser, user, timer]",{"range":"84","text":"85"},[2345,2356],"[character, checkClick, markerPlaced, x, y]",[416,422],"[isActive, user]",[558,595],"[waldoFound, wizardFound, wilmaFound, saveUser, user, timer]"]